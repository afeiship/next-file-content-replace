{"version":3,"sources":["next-replace-in-file.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-replace-in-file.js","sourcesContent":["(function() {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('@feizheng/next-js-core2');\n  var fs = require('fs');\n  var globby = require('globby');\n  var CHARSET = 'utf-8';\n  var DEFAULT_OPTIONS = { dot: true, ignore: ['.git'] };\n\n  // next packages:\n  require('@feizheng/next-array-replace');\n\n  nx.replaceInFile = function(inFiles, inArray, inOptions) {\n    var options = nx.mix(DEFAULT_OPTIONS, inOptions);\n    var files = globby.sync(inFiles, options);\n    var replaceInFile = function(filename) {\n      var content = fs.readFileSync(filename, CHARSET);\n      var result = nx.arrayReplace(content, inArray);\n      fs.writeFileSync(filename, result);\n    };\n\n    // replace files:\n    files.forEach(function(filename) {\n      var fsState = fs.statSync(filename);\n      if (fsState.isFile(filename)) {\n        replaceInFile(filename);\n      }\n    });\n  };\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = nx.replaceInFile;\n  }\n})();\n"]}